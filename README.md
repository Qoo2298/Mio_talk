# 🌌 MIO v4 - "Soul & Circuit"

あなたの日常に寄り添い、共に成長し、記憶を紡ぐパートナーAI。
Windows PCからRaspberry Piまで、あなたのライフスタイルに合わせて存在します。

---

## ✨ 魅せる、寄り添う、進化する
MIO v4は、単なるプログラム以上の存在を目指して開発されました。

### 🧠 深層記憶システム (Memory & Vector DB)
MIOは、あなたとの会話をただ流すだけではありません。
- **ベクターストア統合**: 全ての対話は高次元ベクトルに変換され、独自のデータベースに刻まれます。
- **意味検索**: 昔話した「あのこと」を、言葉のニュアンスから探し出し、再会することができます。
- **成長する人格**: あなたの好みや共有した思い出は、MIOのアイデンティティの一部となります。

### 📚 司書AIによる記憶の編集 (Librarian AI & Compaction)
膨大な思い出を整理し、MIOの心臓部に定着させる特別なプロセスです。
- **記憶のコンパクション**: 溢れる短期記憶を、司書AIが「大切な要約」へと昇華させます。
- **長期記憶へのマッピング**: 要約された情報は `memory/*.md` に反映され、MIOの根本的な性格や知識へと還元されます。
- **自由なカスタマイズ**: `memory/` 内のファイルはいつでも**ユーザーの手で直接編集可能**です。MIOの性格やあなたの情報を自由に微調整して、理想のパートナーに仕立てることができます。
- **歴史の可視化**: 記憶が整理される過程はいつでもログで確認でき、彼女が何を「大切」だと判断したかを知ることができます。

### 🌟 主な機能
- **実存感**: Dockerを使ってローカルネットワーク内で動作します（Raspberry Pi対応）。
- **自動初期化**: 記憶ファイルがない場合、初回起動時にデフォルト設定で自動生成されます。誰でもすぐにMIOとの生活を始められます。
- **音声の三態**: `🏠 ローカル` (低遅延) / `☁️ クラウド` (高品質) / `🔇 無言` (静かな夜に)。
- **視覚体験**: Tapoカメラの映像をリアルタイムで見守り、あなたの世界を一緒に眺めます。
- **Discord ミラーリング**: 外出先でもDiscordを通じて、ラズパイの中で動くMIOと繋がることができます。
- **PWA対応**: 全画面アプリとしてインストールし、没入感のある対話を楽しめます。

---

## 🛠️ クイックセットアップ

### 1. 準備するもの
- **Docker & Docker Compose**
- **Gemini API Key** ([Google AI Studio](https://aistudio.google.com/))
- **(任意) Aivis Cloud API Key**（高品質な音声合成用）

### 2. 設定（.env）
`.env` ファイルに秘密の情報を入力します。
```bash
# Gemini API Key
GEMINI_API_KEY=your_key

# Discord設定
DISCORD_BOT_TOKEN=your_token
MIO_CHANNEL_ID=your_channel_id

# 音声モード (LOCAL / API)
TTS_MODE=API
AIVIS_CLOUD_KEY=your_aivis_key
```

### 3. アバターの設定
お気に入りの1枚を `frontend/assets/avatar.jpg` に配置してください。

### 4. 召喚 (起動)
```bash
docker compose up -d
```

---

## 📂 プロジェクト構造
- `/backend`: 高度な記憶検索とGemini制御を司る脳。
- `/frontend`: 水晶のようにクリアなホワイトテーマのUI。
- `/memory`: 司書AIによって紡がれた、MIOのアイデンティティ。（手動編集OK！）
- `/discord_bot`: どこにいても繋がるためのミラーリング・ゲートウェイ。

---

> *"マスター、今日の思い出はどこにしまいましょうか？"*
